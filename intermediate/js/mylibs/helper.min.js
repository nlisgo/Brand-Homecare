window.MBP=window.MBP||{};MBP.hideUrlBar=function(){/mobile/i.test(navigator.userAgent)&&!pageYOffset&&!location.hash&&setTimeout(function(){window.scrollTo(0,1)},1000)};MBP.fastButton=function(a,b){this.element=a;this.handler=b;a.addEventListener("touchstart",this,false);a.addEventListener("click",this,false)};MBP.fastButton.prototype.handleEvent=function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a);break}};MBP.fastButton.prototype.onTouchStart=function(a){a.stopPropagation();this.element.addEventListener("touchend",this,false);document.body.addEventListener("touchmove",this,false);this.startX=a.touches[0].clientX;this.startY=a.touches[0].clientY;this.element.style.backgroundColor="rgba(0,0,0,.7)"};MBP.fastButton.prototype.onTouchMove=function(a){if(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10){this.reset()}};MBP.fastButton.prototype.onClick=function(a){a.stopPropagation();this.reset();this.handler(a);if(a.type=="touchend"){MBP.preventGhostClick(this.startX,this.startY)}this.element.style.backgroundColor=""};MBP.fastButton.prototype.reset=function(){this.element.removeEventListener("touchend",this,false);document.body.removeEventListener("touchmove",this,false);this.element.style.backgroundColor=""};MBP.preventGhostClick=function(a,b){MBP.coords.push(a,b);window.setTimeout(function(){MBP.coords.splice(0,2)},2500)};MBP.ghostClickHandler=function(d){for(var c=0,b=MBP.coords.length;c<b;c+=2){var a=MBP.coords[c];var e=MBP.coords[c+1];if(Math.abs(d.clientX-a)<25&&Math.abs(d.clientY-e)<25){d.stopPropagation();d.preventDefault()}}};document.addEventListener("click",MBP.ghostClickHandler,true);MBP.coords=[];MBP.splash=function(){var a=navigator.platform==="iPad"?"h/":"l/";document.write('<link rel="apple-touch-startup-image" href="/img/'+a+'splash.png" />')};MBP.autogrow=function(c,a){function d(g){var f=this.scrollHeight,h=this.clientHeight;if(f>h){this.style.height=f+3*e+"px"}}var b=(a)?a:12,e=c.currentStyle?c.currentStyle.lineHeight:getComputedStyle(c,null).lineHeight;e=(e.indexOf("px")==-1)?b:parseInt(e,10);c.style.overflow="hidden";c.addEventListener?c.addEventListener("keyup",d,false):c.attachEvent("onkeyup",d)};